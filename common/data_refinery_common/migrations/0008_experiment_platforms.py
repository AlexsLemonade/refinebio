# Generated by Django 2.1.2 on 2018-12-17 18:59

import django.contrib.postgres.fields
from django.db import migrations, models

from data_refinery_common.models import (
    Experiment
)

def set_platforms(apps, schema_editor):
    Experiment = apps.get_model("data_refinery_common", "Experiment")
    
    for experiment in Experiment.objects.all():
        experiment.refresh_platforms()

class Migration(migrations.Migration):

    dependencies = [
        ('data_refinery_common', '0007_auto_20181205_1545'),
    ]

    operations = [
        migrations.AddField(
            model_name='experiment',
            name='platforms',
            field=django.contrib.postgres.fields.ArrayField(base_field=models.TextField(), default=list, size=None),
        ),
        migrations.RunPython(set_platforms)
    ]
